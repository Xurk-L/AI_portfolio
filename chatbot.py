# 1. สร้างฟังก์ชันสำหรับตรวจสอบคีย์เวิร์ดโดยเฉพาะ
#    ฟังก์ชันนี้จะรับ "ข้อความของผู้ใช้" และ "ลิสต์ของคีย์เวิร์ด" เข้ามา
def check_for_keywords(user_text, keywords_list):
    # วนลูปเพื่อเช็คคีย์เวิร์ดทีละคำในลิสต์
    for keyword in keywords_list:
        # ถ้าเจอคีย์เวิร์ดคำใดคำหนึ่งในข้อความของผู้ใช้
        if keyword in user_text:
            return True  # ให้ส่งค่า True กลับไปทันที (แปลว่าเจอแล้ว)
    return False # ถ้าวนจนจบลูปแล้วไม่เจอเลย ก็ส่งค่า False กลับไป

# --------------------------------------------------------------------

# 2. สร้าง "คลังคำศัพท์" หรือลิสต์ของคีย์เวิร์ดสำหรับแต่ละหัวข้อ
#    วิธีนี้ทำให้เราเพิ่มคำใหม่ๆ ได้ง่ายมาก แค่เติมในลิสต์
GREETING_KEYWORDS = ["สวัสดี", "ดีครับ", "ว่าไง", "hello", "hi"]
NAME_KEYWORDS = ["ชื่ออะไร", "ชื่อว่า", "name"]
CAPABILITY_KEYWORDS = ["ทำอะไรได้", "ทำไรได้", "ความสามารถ", "เก่งอะไร"]
EXIT_KEYWORDS = ["bye", "ลาก่อน", "ไปละ", "ออก"]

# 3. เริ่มการทำงานของบอท
print("สวัสดีครับ ผมคือแชทบอทเวอร์ชัน 2.0 (ฉลาดขึ้นนิดหน่อย) พิมพ์ 'bye' เพื่อออกนะครับ")

while True:
    user_input = input("คุณ: ")
    processed_input = user_input.lower().strip()

    # 4. ใช้ฟังก์ชัน check_for_keywords ในการตัดสินใจ
    #    โค้ดส่วนนี้จะอ่านง่ายและสะอาดขึ้นมาก
    
    if check_for_keywords(processed_input, GREETING_KEYWORDS):
        # ถ้าฟังก์ชัน check_for_keywords ส่งค่า True กลับมาสำหรับกลุ่มคำทักทาย
        print("บอท: สวัสดีครับ! ยินดีที่ได้คุยด้วยครับ")
        
    elif check_for_keywords(processed_input, NAME_KEYWORDS):
        # ตรวจสอบกลุ่มคำถามเกี่ยวกับชื่อ
        print("บอท: ผมเป็น Keyword Chatbot ครับ! แค่มองหาคำสำคัญในประโยคของคุณ")
        
    elif check_for_keywords(processed_input, CAPABILITY_KEYWORDS):
        # ตรวจสอบกลุ่มคำถามเกี่ยวกับความสามารถ
        print("บอท: ผมสามารถตอบคำถามตามคีย์เวิร์ดได้ครับ ลองถามเรื่องชื่อผม หรือทักทายผมดูสิ")

    elif check_for_keywords(processed_input, EXIT_KEYWORDS):
        # ตรวจสอบกลุ่มคำบอกลา
        print("บอท: รับทราบครับ แล้วพบกันใหม่นะครับ!")
        break # จบการทำงาน
        
    else:
        # กรณีที่ไม่พบคีย์เวิร์ดที่รู้จักเลย
        print("บอท: ขออภัยครับ ผมยังไม่รู้จักคีย์เวิร์ดในประโยคนั้นเลย")